(this["webpackJsonpsmall-react-projects"]=this["webpackJsonpsmall-react-projects"]||[]).push([[17,24,50,51,78],{137:function(t,e,n){},162:function(t,e,n){"use strict";n.d(e,"a",(function(){return c.a})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return l}));var c=n(17),r=n(0);function a(t){Object(r.useEffect)((function(){document.title=t}))}var o=n(16);function i(t){var e=Object(r.useState)(!0),n=Object(o.a)(e,2),c=n[0],a=n[1],i=Object(r.useState)(null),u=Object(o.a)(i,2),s=u[0],l=u[1],f=Object(r.useState)(void 0),d=Object(o.a)(f,2),b=d[0],j=d[1],m=Object(r.useCallback)((function(){a(!0),fetch(t).then((function(t){return t.json()})).then((function(t){return j(t)})).catch((function(t){return l(t)})).finally((function(){return a(!1)}))}),[t]);return Object(r.useEffect)((function(){m()}),[m]),[b,c,m,s]}function u(t,e){var n=localStorage.getItem(t);return n?JSON.parse(n):(e&&localStorage.setItem(t,JSON.stringify(e)),e)}function s(t,e){var n=Object(r.useState)(u(t,e)),c=Object(o.a)(n,2),a=c[0],i=c[1],s=Object(r.useCallback)((function(){i(u(t))}),[t]);return Object(r.useEffect)((function(){s()}),[s]),[a,function(e){try{var n=e instanceof Function?e(a):e;localStorage.setItem(t,JSON.stringify(n)),i(e)}catch(c){console.warn('Error setting localStorage key "'.concat(t,'": ').concat(c.message))}},s]}function l(t,e){Object(r.useEffect)((function(){var n=function(n){var c=t.current;c&&!c.contains((null===n||void 0===n?void 0:n.target)||null)&&e(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),function(){document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[t,e])}},164:function(t,e,n){"use strict";function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);e&&(c=c.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,c)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n.d(e,"a",(function(){return a}))},44:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n(0),a=n(163),o=Object(r.memo)(a.g),i=Object(r.memo)(a.r);function u(t){var e=t.data,n=t.editItem,r=t.removeItem;return Object(c.jsx)(c.Fragment,{children:!!e.length&&Object(c.jsx)("div",{className:"grocery-container",children:e.map((function(t){var e=t.title,a=t.id;return Object(c.jsxs)("article",{className:"grocery-item",children:[Object(c.jsx)("p",{className:"title",children:e}),Object(c.jsxs)("div",{className:"btn-container",children:[Object(c.jsx)("button",{onClick:function(){return n(a)},"data-testid":"edit-btn-".concat(a),className:"edit-btn",children:Object(c.jsx)(o,{})}),Object(c.jsx)("button",{onClick:function(){return r(a)},"data-testid":"delete-btn-".concat(a),className:"delete-btn",children:Object(c.jsx)(i,{})})]})]},a)}))})})}e.default=Object(r.memo)(u)},45:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return o}));var c=n(16),r=n(1),a=n(0);function o(t){var e=t.msg,n=t.type,o=t.data,i=Object(a.useState)(!1),u=Object(c.a)(i,2),s=u[0],l=u[1];return Object(a.useEffect)((function(){if(e){l(!0);var t=setTimeout((function(){l(!1)}),3e3);return function(){clearTimeout(t)}}}),[o]),Object(r.jsx)(r.Fragment,{children:s&&Object(r.jsx)("p",{className:"alert alert-".concat(n),children:e})})}},73:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return b}));var c=n(12);var r=n(19);function a(t){return function(t){if(Array.isArray(t))return Object(c.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(r.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var o=n(164),i=n(16),u=n(1),s=n(0),l=n(162),f=n(44),d=n(45);n(137);function b(){Object(l.a)({background:"hsl(210, 36%, 96%)",color:"hsl(209, 61%, 16%)"}),Object(l.b)("Grocery Bud");var t=Object(l.d)("groceryList",[]),e=Object(i.a)(t,2),n=e[0],c=e[1],r=Object(s.useState)(""),b=Object(i.a)(r,2),j=b[0],m=b[1],O=Object(s.useState)({msg:"",type:""}),g=Object(i.a)(O,2),h=g[0],p=g[1],v=Object(s.useState)(""),y=Object(i.a)(v,2),S=y[0],x=y[1];return Object(u.jsxs)("main",{className:"grocery_bud",children:[Object(u.jsxs)("form",{className:"grocery-form",onSubmit:function(t){if(t.preventDefault(),j){if(S)return c((function(t){return t.map((function(t){return t.id===S?Object(o.a)(Object(o.a)({},t),{},{title:j}):t}))})),p({type:"success",msg:"Item updated"}),m(""),void x("");c((function(t){return[].concat(a(t),[{title:j,id:(new Date).getTime().toString()}])})),p({type:"success",msg:"Item added to the list"}),m("")}},children:[Object(u.jsx)(d.default,{data:n,msg:h.msg,type:h.type}),Object(u.jsx)("h3",{children:"Grocery Bud"}),Object(u.jsxs)("div",{className:"form-control",children:[Object(u.jsx)("input",{type:"text",className:"grocery",value:j,onChange:function(t){return m(t.target.value)},placeholder:"e.g. eggs"}),Object(u.jsx)("button",{type:"submit",className:"submit-btn",children:""!==S?"edit":"submit"})]})]}),Object(u.jsx)(f.default,{data:n,editItem:function(t){var e=n.find((function(e){return e.id===t}));m(e.title),x(t)},removeItem:function(t){c((function(e){return e.filter((function(e){return e.id!==t}))}))}}),!!n.length&&Object(u.jsx)("button",{className:"clear-btn",onClick:function(){p({type:"danger",msg:"Empty List"}),c([])},children:"clear items"})]})}},80:function(t,e,n){"use strict";n.r(e),function(t){var e=n(1),c=(n(0),n(177)),r=n.n(c),a=n(172),o=n(170),i=n.n(o),u=n(73);function s(){localStorage.setItem("groceryList",JSON.stringify([{title:"mockItem1",id:1},{title:"mockItem2",id:2}]))}describe("GroceryBud",(function(){it("Should load correctly",(function(){var t=r.a.create(Object(e.jsx)(u.default,{})).toJSON();expect(t).toMatchSnapshot()})),it("Should render data from localstorage",(function(){s();var t=r.a.create(Object(e.jsx)(u.default,{})).toJSON();expect(t).toMatchSnapshot(),localStorage.clear()})),it("Should clear items",(function(){s();var t=Object(a.c)(Object(e.jsx)(u.default,{})).baseElement;i.a.click(a.d.getByText("clear items")),expect(t).toMatchSnapshot(),localStorage.clear()})),it("Should remove one item",(function(){s();var t=Object(a.c)(Object(e.jsx)(u.default,{})).baseElement;i.a.click(a.d.getByTestId("delete-btn-1")),expect(t).toMatchSnapshot(),localStorage.clear()})),it("Should edit one item",(function(){s();var t=Object(a.c)(Object(e.jsx)(u.default,{})).baseElement;i.a.click(a.d.getByTestId("edit-btn-1"));var n=a.d.getByPlaceholderText("e.g. eggs");a.b.change(n,{target:{value:"testItem"}}),i.a.click(a.d.getByText("edit")),expect(t).toMatchSnapshot(),localStorage.clear()})),it("Should add one item",(function(){jest.spyOn(t,"Date").mockImplementation((function(){return{getTime:function(){return{toString:function(){return"1"}}}}}));var n=Object(a.c)(Object(e.jsx)(u.default,{})).baseElement,c=a.d.getByPlaceholderText("e.g. eggs");a.b.change(c,{target:{value:"testItem"}}),i.a.click(a.d.getByText("submit")),expect(n).toMatchSnapshot()})),it("Should ignore click if no value",(function(){var t=Object(a.c)(Object(e.jsx)(u.default,{})).baseElement;i.a.click(a.d.getByText("submit")),expect(t).toMatchSnapshot()}))}))}.call(this,n(37))}}]);