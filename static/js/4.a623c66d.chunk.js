(this["webpackJsonpsmall-react-projects"]=this["webpackJsonpsmall-react-projects"]||[]).push([[4,9,47,48,64],{122:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var n=c(15),r=c(0);function o(e){var t=Object(r.useState)(!0),c=Object(n.a)(t,2),o=c[0],s=c[1],a=Object(r.useState)(null),i=Object(n.a)(a,2),u=i[0],l=i[1],f=Object(r.useState)(void 0),j=Object(n.a)(f,2),d=j[0],b=j[1],h=Object(r.useCallback)((function(){s(!0),fetch(e).then((function(e){return e.json()})).then((function(e){return b(e)})).catch((function(e){return l(e)})).finally((function(){return s(!1)}))}),[e]);return Object(r.useEffect)((function(){h()}),[h]),[d,o,h,u]}},123:function(e,t,c){"use strict";var n=c(1),r=c(0);t.a=function(e){var t=e.error,c=e.message;Object(r.useEffect)((function(){t&&console.log(t)}),[t]);var o=c||(null===t||void 0===t?void 0:t.message);return Object(n.jsxs)("main",{className:"error_component",children:[Object(n.jsx)("img",{src:"./images/error.svg",alt:"Error page image"}),Object(n.jsxs)("footer",{children:[o&&Object(n.jsx)("h2",{children:o}),t&&Object(n.jsx)("p",{children:"You can check console for more information"})]})]})}},176:function(e,t,c){"use strict";function n(e,t,c,n,r,o,s){try{var a=e[o](s),i=a.value}catch(u){return void c(u)}a.done?t(i):Promise.resolve(i).then(n,r)}function r(e){return function(){var t=this,c=arguments;return new Promise((function(r,o){var s=e.apply(t,c);function a(e){n(s,r,o,a,i,"next",e)}function i(e){n(s,r,o,a,i,"throw",e)}a(void 0)}))}}c.d(t,"a",(function(){return r}))},26:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return s}));var n=c(15),r=c(1),o=c(0);function s(e){var t=e.data,c=e.removeTour,s=Object(o.useState)(!1),a=Object(n.a)(s,2),i=a[0],u=a[1];return Object(r.jsxs)("article",{className:"single-tour",children:[Object(r.jsx)("img",{src:t.image,alt:t.name}),Object(r.jsxs)("footer",{children:[Object(r.jsxs)("div",{className:"tour-info",children:[Object(r.jsx)("h4",{children:t.name}),Object(r.jsx)("h4",{className:"tour-price",children:t.price})]}),Object(r.jsxs)("p",{children:[i?t.info:"".concat(t.info.substring(0,200),"..."),Object(r.jsx)("button",{onClick:function(){return u(!i)},children:i?"show less":"read more"})]}),Object(r.jsx)("button",{className:"delete-btn",onClick:c,children:"Not interested"})]})]})}},35:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return r}));var n=c(1);c(0);function r(){return Object(n.jsx)("h2",{className:"loading",children:"Loading ..."})}},52:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return f}));var n=c(15),r=c(1),o=c(0),s=c(122),a=c(16),i=c(35),u=c(123),l=c(26);c(84);function f(){Object(a.a)({background:"hsl(210, 36%, 96%)",color:"hsl(209, 61%, 16%)"});var e=Object(s.a)("https://course-api.com/react-tours-project"),t=Object(n.a)(e,4),c=t[0],f=t[1],j=t[2],d=t[3],b=Object(o.useState)([]),h=Object(n.a)(b,2),O=h[0],m=h[1];return Object(o.useEffect)((function(){m(c)}),[c]),Object(r.jsxs)("main",{className:"tours",children:[Object(r.jsxs)("div",{className:"title",children:[Object(r.jsx)("h2",{children:"our tours"}),Object(r.jsx)("div",{className:"underline"})]}),f&&Object(r.jsx)(i.default,{})||d&&Object(r.jsx)(u.a,{message:d})||O&&Object(r.jsxs)(r.Fragment,{children:[O.map((function(e){return Object(r.jsx)(l.default,{removeTour:function(){return t=e.id,void m((function(e){return e.filter((function(e){return e.id!==t}))}));var t},data:e},e.id)})),0===O.length&&Object(r.jsx)("button",{className:"refetch-btn",onClick:j,children:"Refresh"})]})]})}},66:function(e,t,c){"use strict";c.r(t);var n=c(175),r=c.n(n),o=c(176),s=c(1),a=(c(0),c(125)),i=c.n(a),u=c(129),l=c(52),f=fetch;describe("Tours",(function(){afterEach(u.a),beforeEach(f.resetMocks),it("Should start with loading",(function(){f.disableMocks(),Object(u.b)(Object(s.jsx)(l.default,{}));var e=u.c.getByText(/Loading/i);expect(e).toBeTruthy()})),it("Should render error",(function(e){f.enableMocks(),f.mockRejectOnce((function(){return Promise.reject("Mock Error")})),Object(u.b)(Object(s.jsx)(l.default,{}));var t=u.c.getByText(/Loading/i);expect(t).toBeTruthy(),Object(u.d)((function(){var t=u.c.queryByText(/Mock Error/i);expect(t).toBeTruthy(),e()}))})),it("Should render tours list",Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.enableMocks(),f.mockResponseOnce(JSON.stringify([{id:"rec6d6T3q5EBIdCfD",name:"Best of Paris in 7 Days Tour",info:"mockInfo",image:"https://dl.airtable.com/.attachments/a0cd0702c443f31526267f38ea5314a1/2447eb7a/paris.jpg",price:"1,995"}])),Object(u.b)(Object(s.jsx)(l.default,{})),e.next=5,Object(u.e)(u.c.getByText(/Loading/i));case 5:t=u.c.getAllByText(/not interested/i),expect(t.length>0).toBeTruthy();case 7:case"end":return e.stop()}}),e)})))),it("Should remove tour from list",Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.enableMocks(),f.mockResponseOnce(JSON.stringify([{id:"rec6d6T3q5EBIdCfD",name:"Best of Paris in 7 Days Tour",info:"mockInfo",image:"https://dl.airtable.com/.attachments/a0cd0702c443f31526267f38ea5314a1/2447eb7a/paris.jpg",price:"1,995"}])),Object(u.b)(Object(s.jsx)(l.default,{})),e.next=5,Object(u.e)(u.c.getByText(/Loading/i));case 5:i.a.click(u.c.getByText(/not interested/i)),t=u.c.queryAllByText(/not interested/i),expect(t.length).toBe(0);case 8:case"end":return e.stop()}}),e)}))))}))},84:function(e,t,c){}}]);
//# sourceMappingURL=4.a623c66d.chunk.js.map