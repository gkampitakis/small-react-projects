{"version":3,"sources":["hooks/useFetch.ts","components/Error.tsx","projects/tours/components/Tour.tsx","projects/tours/components/Loading.tsx","projects/tours/Tours.tsx"],"names":["useFetch","url","useState","loading","setLoading","error","setError","undefined","data","setData","retrieveData","useCallback","fetch","then","d","json","catch","e","finally","useEffect","Error","message","console","log","msg","className","src","alt","Tour","removeTour","more","setMore","image","name","price","info","substring","onClick","Loading","Tours","useBodyStyles","background","color","refetch","tours","setTours","map","tour","id","filter","length"],"mappings":"kMAGA,SAASA,EAAaC,GAAmE,IAAD,EACxDC,oBAAS,GAD+C,mBAC/EC,EAD+E,KACtEC,EADsE,OAE5DF,mBAAS,MAFmD,mBAE/EG,EAF+E,KAExEC,EAFwE,OAG9DJ,wBAASK,GAHqD,mBAG/EC,EAH+E,KAGzEC,EAHyE,KAKhFC,EAAeC,uBAAY,WAC/BP,GAAW,GAEXQ,MAAMX,GACHY,MAAK,SAAAC,GAAC,OAAIA,EAAEC,UACZF,MAAK,SAAAC,GAAC,OAAIL,EAAQK,MAClBE,OAAM,SAAAC,GAAC,OAAIX,EAASW,MACpBC,SAAQ,kBAAMd,GAAW,QAC3B,CAACH,IAMJ,OAJAkB,qBAAU,WACRT,MACC,CAACA,IAEG,CAACF,EAAML,EAASO,EAAcL,K,mDCUxBe,IAvBf,YAA+D,IAA7Cf,EAA4C,EAA5CA,MAAOgB,EAAqC,EAArCA,QACvBF,qBAAU,WACJd,GACFiB,QAAQC,IAAIlB,KACb,CAACA,IAEJ,IAAMmB,EAAMH,IAAO,OAAahB,QAAb,IAAaA,OAAb,EAAaA,EAAOgB,SAEvC,OACE,uBAAMI,UAAU,kBAAhB,UACE,qBAAKC,IAAI,qBAAqBC,IAAI,qBAClC,mCAEIH,GAAO,6BAAKA,IAGZnB,GAAS,mF,yGCrBJ,SAASuB,EAAT,GAEE,IADbpB,EACY,EADZA,KAAMqB,EACM,EADNA,WACM,EACU3B,oBAAS,GADnB,mBACP4B,EADO,KACDC,EADC,KAGd,OACE,0BAASN,UAAU,cAAnB,UACE,qBAAKC,IAAKlB,EAAKwB,MAAOL,IAAKnB,EAAKyB,OAChC,mCACE,sBAAKR,UAAU,YAAf,UACE,6BAAKjB,EAAKyB,OACV,oBAAIR,UAAU,aAAd,SAA4BjB,EAAK0B,WAEnC,8BACGJ,EAAOtB,EAAK2B,KAAR,UAAkB3B,EAAK2B,KAAKC,UAAU,EAAG,KAAzC,OACL,wBAAQC,QAAS,kBAAMN,GAASD,IAAhC,SAAwCA,EAAO,YAAc,iBAE/D,wBAAQL,UAAU,aAAaY,QAASR,EAAxC,oC,+FClBO,SAASS,IACtB,OACE,oBAAIb,UAAU,UAAd,2B,yJCOW,SAASc,IACtBC,YAAc,CACZC,WAAY,qBACZC,MAAO,uBAHoC,MAKL1C,YAPvB,8CAE4B,mBAKtCQ,EALsC,KAKhCL,EALgC,KAKvBwC,EALuB,KAKdtC,EALc,OAMnBH,mBAAkB,IANC,mBAMtC0C,EANsC,KAM/BC,EAN+B,KAgB7C,OAJA1B,qBAAU,WACR0B,EAASrC,KACR,CAACA,IAGF,uBAAMiB,UAAU,QAAhB,UACE,sBAAKA,UAAU,QAAf,UACE,2CACA,qBAAKA,UAAU,iBAGftB,GAAW,cAAC,UAAD,KACXE,GAAS,cAAC,IAAD,CAAOgB,QAAShB,KACzBuC,GACA,qCACGA,EAAME,KAAI,SAAAC,GAAI,OACb,cAAC,UAAD,CAAoBlB,WAAY,kBApBrBmB,EAoBsCD,EAAKC,QAnB9DH,GAAS,SAACD,GAAD,OAAWA,EAAMK,QAAO,SAAAF,GAAI,OAAIA,EAAKC,KAAOA,QADvD,IAAqBA,GAoBgDxC,KAAMuC,GAAtDA,EAAKC,OAIC,IAAjBJ,EAAMM,QACN,wBAAQzB,UAAU,cAAcY,QAASM,EAAzC,6B","file":"static/js/9.489ccd5d.chunk.js","sourcesContent":["import { useEffect, useState, useCallback } from 'react';\n\n\nfunction useFetch<T> (url: string): [T | undefined, boolean, () => void, string | null] {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [data, setData] = useState(undefined);\n\n  const retrieveData = useCallback(() => {\n    setLoading(true);\n\n    fetch(url)\n      .then(d => d.json())\n      .then(d => setData(d))\n      .catch(e => setError(e))\n      .finally(() => setLoading(false))\n  }, [url]);\n\n  useEffect(() => {\n    retrieveData();\n  }, [retrieveData]);\n\n  return [data, loading, retrieveData, error];\n}\n\nexport { useFetch };\n","import React, { useEffect, ReactElement } from 'react';\n\n\ninterface ErrorProps {\n  error?: Error;\n  message?: string;\n}\n\n\nfunction Error ({ error, message }: ErrorProps): ReactElement {\n  useEffect(() => {\n    if (error)\n      console.log(error);\n  }, [error]);\n\n  const msg = message ? message : error?.message;\n\n  return (\n    <main className=\"error_component\">\n      <img src=\"./images/error.svg\" alt=\"Error page image\" />\n      <footer>\n        {\n          msg && <h2>{msg}</h2>\n        }\n        {\n          error && <p>You can check console for more information</p>\n        }\n      </footer>\n    </main >\n  );\n}\n\nexport default Error;\n","import React, { ReactElement, useState } from 'react'\nimport { TourI } from './interface';\n\n\nexport default function Tour (\n  { data, removeTour }: { data: TourI; removeTour: () => void }\n): ReactElement {\n  const [more, setMore] = useState(false);\n\n  return (\n    <article className=\"single-tour\">\n      <img src={data.image} alt={data.name} />\n      <footer>\n        <div className=\"tour-info\">\n          <h4>{data.name}</h4>\n          <h4 className=\"tour-price\">{data.price}</h4>\n        </div>\n        <p>\n          {more ? data.info : `${data.info.substring(0, 200)}...`}\n          <button onClick={() => setMore(!more)}>{more ? 'show less' : 'read more'}</button>\n        </p>\n        <button className=\"delete-btn\" onClick={removeTour}>Not interested</button>\n      </footer>\n    </article>\n  );\n}\n","import React, { ReactElement } from 'react'\n\n\nexport default function Loading (): ReactElement {\n  return (\n    <h2 className=\"loading\">Loading ...</h2>\n  );\n}\n","import React, { useState, useEffect, ReactElement } from 'react';\nimport { useFetch } from '../../hooks/useFetch';\nimport { useBodyStyles } from '../../hooks/useBodyStyles';\nimport { TourI } from './components/interface';\nimport Loading from './components/Loading';\nimport Error from '../../components/Error';\nimport Tour from './components/Tour';\nimport './index.scss';\n\n\nconst TOURS_DATA = 'https://course-api.com/react-tours-project';\n\nexport default function Tours (): ReactElement {\n  useBodyStyles({\n    background: 'hsl(210, 36%, 96%)',\n    color: 'hsl(209, 61%, 16%)'\n  });\n  const [data, loading, refetch, error] = useFetch(TOURS_DATA);\n  const [tours, setTours] = useState<TourI[]>([]);\n\n  function removeTour (id: string): void {\n    setTours((tours) => tours.filter(tour => tour.id !== id));\n  }\n\n  useEffect(() => {\n    setTours(data as TourI[]);\n  }, [data])\n\n  return (\n    <main className=\"tours\">\n      <div className=\"title\">\n        <h2>our tours</h2>\n        <div className=\"underline\"></div>\n      </div>\n      {\n        loading && <Loading /> ||\n        error && <Error message={error} /> ||\n        tours &&\n        <>\n          {tours.map(tour => (\n            <Tour key={tour.id} removeTour={() => removeTour(tour.id)} data={tour} />\n          ))\n          }\n          {\n            tours.length === 0 &&\n            <button className=\"refetch-btn\" onClick={refetch}>Refresh</button>\n          }\n        </>\n      }\n    </main>\n  );\n}\n"],"sourceRoot":""}