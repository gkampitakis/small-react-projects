(this["webpackJsonpsmall-react-projects"]=this["webpackJsonpsmall-react-projects"]||[]).push([[29,33],{163:function(e,t,n){"use strict";function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return c}))},164:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n(163);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},25:function(e,t,n){"use strict";n.r(t),n.d(t,"useGlobalContext",(function(){return j})),n.d(t,"AppProvider",(function(){return l}));var c,r=n(1),o=n(163),i=n(164),a=n(16),s=n(0);!function(e){e[e.sports=21]="sports",e[e.history=22]="history",e[e.politics=23]="politics"}(c||(c={}));var u=Object(s.createContext)({}),l=function(e){var t=e.children,n=Object(s.useState)(!0),l=Object(a.a)(n,2),j=l[0],b=l[1],f=Object(s.useState)(!1),p=Object(a.a)(f,2),O=p[0],m=p[1],d=Object(s.useState)([]),h=Object(a.a)(d,2),y=h[0],v=h[1],g=Object(s.useState)(null),x=Object(a.a)(g,2),S=x[0],C=x[1],w=Object(s.useState)(0),P=Object(a.a)(w,2),N=P[0],q=P[1],F=Object(s.useState)(!1),D=Object(a.a)(F,2),k=D[0],z=D[1],M=Object(s.useState)(0),Q=Object(a.a)(M,2),A=Q[0],E=Q[1],G=Object(s.useState)({amount:10,category:"sports",difficulty:"easy"}),J=Object(a.a)(G,2),_=J[0],B=J[1];function H(){z(!0)}function I(){q((function(e){var t=e+1;return t>y.length-1?(console.log("open"),H(),0):t}))}return Object(r.jsx)(u.Provider,{value:{waiting:j,error:S,loading:O,quiz:_,questions:y,isModalOpen:k,currentQ:N,correct:A,nextQuestion:I,checkAnswer:function(e){e&&E((function(e){return e+1})),I()},closeModal:function(){b(!0),E(0),z(!1)},openModal:H,setupFormOnChange:function(e){var t=e.target,n=t.value,c=t.name;B(Object(i.a)(Object(i.a)({},_),{},Object(o.a)({},c,n)))},setupFormOnSubmit:function(e){e.preventDefault();var t=_.amount,n=_.category,r=_.difficulty,o="".concat("https://opentdb.com/api.php?","amount=").concat(t,"&difficulty=").concat(r,"&category=").concat(c[n],"&type=multiple");m(!0),b(!1),fetch(o).then((function(e){return e.json()})).then((function(e){v(e.results),console.log(e.results)})).catch((function(e){C(e),b(!0)})).finally((function(){return m(!1)}))}},children:t})},j=function(){return Object(s.useContext)(u)}},36:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var c=n(1),r=(n(0),n(25));function o(){var e=Object(r.useGlobalContext)(),t=e.error,n=e.quiz,o=e.setupFormOnChange,i=e.setupFormOnSubmit;return Object(c.jsx)("main",{className:"quiz_project",children:Object(c.jsxs)("form",{className:"quiz setup_form",children:[Object(c.jsx)("h2",{children:"Setup Quiz"}),Object(c.jsxs)("div",{className:"form-control",children:[Object(c.jsx)("label",{htmlFor:"amount",children:"Number of questions"}),Object(c.jsx)("input",{autoComplete:"off",className:"form-input",type:"number",name:"amount",id:"amount",value:n.amount,onChange:o,min:1,max:50})]}),Object(c.jsxs)("div",{className:"form-control",children:[Object(c.jsx)("label",{htmlFor:"category",children:"category"}),Object(c.jsxs)("select",{name:"category",id:"category",className:"form-input",value:n.category,onChange:o,children:[Object(c.jsx)("option",{value:"sports",children:"sports"}),Object(c.jsx)("option",{value:"history",children:"history"}),Object(c.jsx)("option",{value:"politics",children:"politics"})]})]}),Object(c.jsxs)("div",{className:"form-control",children:[Object(c.jsx)("label",{htmlFor:"difficulty",children:"Select Difficulty"}),Object(c.jsxs)("select",{name:"difficulty",id:"difficulty",className:"form-input",value:n.difficulty,onChange:o,children:[Object(c.jsx)("option",{value:"easy",children:"easy"}),Object(c.jsx)("option",{value:"medium",children:"medium"}),Object(c.jsx)("option",{value:"hard",children:"hard"})]})]}),t&&Object(c.jsx)("p",{className:"error",children:"Can\u2018t generate questions, please try different options"}),Object(c.jsx)("button",{onClick:i,type:"submit",children:"Start"})]})})}}}]);