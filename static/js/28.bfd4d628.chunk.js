(this["webpackJsonpsmall-react-projects"]=this["webpackJsonpsmall-react-projects"]||[]).push([[28,33],{163:function(t,e,n){"use strict";function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return c}))},164:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var c=n(163);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);e&&(c=c.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,c)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){Object(c.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},25:function(t,e,n){"use strict";n.r(e),n.d(e,"useGlobalContext",(function(){return b})),n.d(e,"AppProvider",(function(){return l}));var c,r=n(1),o=n(163),a=n(164),u=n(16),i=n(0);!function(t){t[t.sports=21]="sports",t[t.history=22]="history",t[t.politics=23]="politics"}(c||(c={}));var s=Object(i.createContext)({}),l=function(t){var e=t.children,n=Object(i.useState)(!0),l=Object(u.a)(n,2),b=l[0],O=l[1],f=Object(i.useState)(!1),j=Object(u.a)(f,2),p=j[0],d=j[1],h=Object(i.useState)([]),y=Object(u.a)(h,2),g=y[0],m=y[1],v=Object(i.useState)(null),w=Object(u.a)(v,2),x=w[0],P=w[1],S=Object(i.useState)(0),C=Object(u.a)(S,2),k=C[0],D=C[1],M=Object(i.useState)(!1),q=Object(u.a)(M,2),F=q[0],N=q[1],A=Object(i.useState)(0),E=Object(u.a)(A,2),G=E[0],J=E[1],Q=Object(i.useState)({amount:10,category:"sports",difficulty:"easy"}),z=Object(u.a)(Q,2),Y=z[0],B=z[1];function H(){N(!0)}function I(){D((function(t){var e=t+1;return e>g.length-1?(console.log("open"),H(),0):e}))}return Object(r.jsx)(s.Provider,{value:{waiting:b,error:x,loading:p,quiz:Y,questions:g,isModalOpen:F,currentQ:k,correct:G,nextQuestion:I,checkAnswer:function(t){t&&J((function(t){return t+1})),I()},closeModal:function(){O(!0),J(0),N(!1)},openModal:H,setupFormOnChange:function(t){var e=t.target,n=e.value,c=e.name;B(Object(a.a)(Object(a.a)({},Y),{},Object(o.a)({},c,n)))},setupFormOnSubmit:function(t){t.preventDefault();var e=Y.amount,n=Y.category,r=Y.difficulty,o="".concat("https://opentdb.com/api.php?","amount=").concat(e,"&difficulty=").concat(r,"&category=").concat(c[n],"&type=multiple");d(!0),O(!1),fetch(o).then((function(t){return t.json()})).then((function(t){m(t.results),console.log(t.results)})).catch((function(t){P(t),O(!0)})).finally((function(){return d(!1)}))}},children:e})},b=function(){return Object(i.useContext)(s)}},37:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return o}));var c=n(1),r=(n(0),n(25));function o(){var t=Object(r.useGlobalContext)(),e=t.closeModal,n=t.isModalOpen,o=t.correct,a=t.questions;return Object(c.jsx)("div",{className:"".concat(n?"modal-container isOpen":"modal-container"),children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsx)("h2",{children:"congrats!"}),Object(c.jsxs)("p",{children:["You answered ",(o/a.length*100).toFixed(0),"% of questions correctly"]}),Object(c.jsx)("button",{className:"close-btn",onClick:e,children:"play again"})]})})}}}]);