(this["webpackJsonpsmall-react-projects"]=this["webpackJsonpsmall-react-projects"]||[]).push([[15,16,34,35,59],{34:function(t,e,c){"use strict";c.r(e);var n=c(1),r=c(0),a=c(106),o=Object(r.memo)(a.g),i=Object(r.memo)(a.q);function s(t){var e=t.data,c=t.editItem,r=t.removeItem;return Object(n.jsx)(n.Fragment,{children:!!e.length&&Object(n.jsx)("div",{className:"grocery-container",children:e.map((function(t){var e=t.title,a=t.id;return Object(n.jsxs)("article",{className:"grocery-item",children:[Object(n.jsx)("p",{className:"title",children:e}),Object(n.jsxs)("div",{className:"btn-container",children:[Object(n.jsx)("button",{onClick:function(){return c(a)},"data-testid":"edit-btn-".concat(a),className:"edit-btn",children:Object(n.jsx)(o,{})}),Object(n.jsx)("button",{onClick:function(){return r(a)},"data-testid":"delete-btn-".concat(a),className:"delete-btn",children:Object(n.jsx)(i,{})})]})]},a)}))})})}e.default=Object(r.memo)(s)},35:function(t,e,c){"use strict";c.r(e),c.d(e,"default",(function(){return o}));var n=c(15),r=c(1),a=c(0);function o(t){var e=t.msg,c=t.type,o=t.data,i=Object(a.useState)(!1),s=Object(n.a)(i,2),l=s[0],u=s[1];return Object(a.useEffect)((function(){if(e){u(!0);var t=setTimeout((function(){u(!1)}),3e3);return function(){clearTimeout(t)}}}),[o]),Object(r.jsx)(r.Fragment,{children:l&&Object(r.jsx)("p",{className:"alert alert-".concat(c),children:e})})}},56:function(t,e,c){"use strict";c.r(e),c.d(e,"default",(function(){return O}));var n=c(12);var r=c(18);function a(t){return function(t){if(Array.isArray(t))return Object(n.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(r.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e,c){return e in t?Object.defineProperty(t,e,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[e]=c,t}function i(t,e){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),c.push.apply(c,n)}return c}function s(t){for(var e=1;e<arguments.length;e++){var c=null!=arguments[e]?arguments[e]:{};e%2?i(Object(c),!0).forEach((function(e){o(t,e,c[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):i(Object(c)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(c,e))}))}return t}var l=c(15),u=c(1),b=c(0);function d(t,e){var c=localStorage.getItem(t);return c?JSON.parse(c):(e&&localStorage.setItem(t,JSON.stringify(e)),e)}var f=c(16),j=c(34),m=c(35);c(86);function O(){Object(f.a)({background:"hsl(210, 36%, 96%)",color:"hsl(209, 61%, 16%)"});var t=function(t,e){var c=Object(b.useState)(d(t,e)),n=Object(l.a)(c,2),r=n[0],a=n[1],o=Object(b.useCallback)((function(){a(d(t))}),[t]);return Object(b.useEffect)((function(){o()}),[o]),[r,function(e){try{var c=e instanceof Function?e(r):e;localStorage.setItem(t,JSON.stringify(c)),a(e)}catch(n){console.warn('Error setting localStorage key "'.concat(t,'": ').concat(n.message))}},o]}("groceryList",[]),e=Object(l.a)(t,2),c=e[0],n=e[1],r=Object(b.useState)(""),o=Object(l.a)(r,2),i=o[0],O=o[1],g=Object(b.useState)({msg:"",type:""}),p=Object(l.a)(g,2),h=p[0],y=p[1],v=Object(b.useState)(""),S=Object(l.a)(v,2),x=S[0],k=S[1];return Object(u.jsxs)("main",{className:"grocery_bud",children:[Object(u.jsxs)("form",{className:"grocery-form",onSubmit:function(t){if(t.preventDefault(),i){if(x)return n((function(t){return t.map((function(t){return t.id===x?s(s({},t),{},{title:i}):t}))})),y({type:"success",msg:"Item updated"}),O(""),void k("");n((function(t){return[].concat(a(t),[{title:i,id:(new Date).getTime().toString()}])})),y({type:"success",msg:"Item added to the list"}),O("")}},children:[Object(u.jsx)(m.default,{data:c,msg:h.msg,type:h.type}),Object(u.jsx)("h3",{children:"Grocery Bud"}),Object(u.jsxs)("div",{className:"form-control",children:[Object(u.jsx)("input",{type:"text",className:"grocery",value:i,onChange:function(t){return O(t.target.value)},placeholder:"e.g. eggs"}),Object(u.jsx)("button",{type:"submit",className:"submit-btn",children:""!==x?"edit":"submit"})]})]}),Object(u.jsx)(j.default,{data:c,editItem:function(t){var e=c.find((function(e){return e.id===t}));O(e.title),k(t)},removeItem:function(t){n((function(e){return e.filter((function(e){return e.id!==t}))}))}}),!!c.length&&Object(u.jsx)("button",{className:"clear-btn",onClick:function(){y({type:"danger",msg:"Empty List"}),n([])},children:"clear items"})]})}},62:function(t,e,c){"use strict";c.r(e),function(t){var e=c(1),n=(c(0),c(124)),r=c.n(n),a=c(122),o=c(119),i=c.n(o),s=c(56);function l(){localStorage.setItem("groceryList",JSON.stringify([{title:"mockItem1",id:1},{title:"mockItem2",id:2}]))}describe("GroceryBud",(function(){it("Should load correctly",(function(){var t=r.a.create(Object(e.jsx)(s.default,{})).toJSON();expect(t).toMatchSnapshot()})),it("Should render data from localstorage",(function(){l();var t=r.a.create(Object(e.jsx)(s.default,{})).toJSON();expect(t).toMatchSnapshot(),localStorage.clear()})),it("Should clear items",(function(){l();var t=Object(a.c)(Object(e.jsx)(s.default,{})).baseElement;i.a.click(a.d.getByText("clear items")),expect(t).toMatchSnapshot(),localStorage.clear()})),it("Should remove one item",(function(){l();var t=Object(a.c)(Object(e.jsx)(s.default,{})).baseElement;i.a.click(a.d.getByTestId("delete-btn-1")),expect(t).toMatchSnapshot(),localStorage.clear()})),it("Should edit one item",(function(){l();var t=Object(a.c)(Object(e.jsx)(s.default,{})).baseElement;i.a.click(a.d.getByTestId("edit-btn-1"));var c=a.d.getByPlaceholderText("e.g. eggs");a.b.change(c,{target:{value:"testItem"}}),i.a.click(a.d.getByText("edit")),expect(t).toMatchSnapshot(),localStorage.clear()})),it("Should add one item",(function(){jest.spyOn(t,"Date").mockImplementation((function(){return{getTime:function(){return{toString:function(){return"1"}}}}}));var c=Object(a.c)(Object(e.jsx)(s.default,{})).baseElement,n=a.d.getByPlaceholderText("e.g. eggs");a.b.change(n,{target:{value:"testItem"}}),i.a.click(a.d.getByText("submit")),expect(c).toMatchSnapshot()})),it("Should ignore click if no value",(function(){var t=Object(a.c)(Object(e.jsx)(s.default,{})).baseElement;i.a.click(a.d.getByText("submit")),expect(t).toMatchSnapshot()}))}))}.call(this,c(30))},86:function(t,e,c){}}]);
//# sourceMappingURL=15.beec90d2.chunk.js.map